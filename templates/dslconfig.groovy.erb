println("Processing config options...")

// workspace jobs config
node = 'irods'
workspace = '/usr/local/home/joeuser/jenkins-irods'
projects = ['AmoebaDB','ClinEpiDB','CryptoDB','FungiDB','GiardiaDB','HostDB','MicrosporidiaDB','MicrobiomeDB','PiroplasmaDB','PlasmoDB','ToxoDB','TrichDB','TriTrypDB','VectorBase']
remoteJobToken = 'eupathdbirods'
builderJob = 'irods-builder'
listenerJob = 'irods-listener'
cleanerJob  = 'clean-all'
handlerJobPrefix = 'irods-handler-'
cleanerJobPrefix = 'cleaner-'
datasetStoreId = "DATASET_STORE_ID"
branch = '<%= @branch %>'
emailRecipient = '<%= @notification_email %>'
sender = '<%= @notification_sender_email %>'
environment = '<%= @site_environment %>'
confset = '<%= @confset %>'
url = '<%= @url %>'
svn_build_poll = <%= @svn_build_poll %>
buildCredentialId = '<%= @buildCredentialId %>'

staticUsers = [
<% @static_users.each do |user| %>
    [
    "user": "<%= user['user'] -%>",
    "pass": "<%= user['pass'] -%>",
    ],
<% end %>
]


labelNodes = [
<% @nodes.each do |node| %>
    "<%= node['label'] -%>",
<% end -%>
]

wrkspuser = '<%= @wrkspuser %>'

adminusers = [
<% @adminusers.each do |user| %>
    "<%= user -%>",
<% end -%>
]

modelconfig_adminEmail = 'ud_notify@apidb.org'

plugins = [
<%= @plugins.map{ |plugin| "'#{plugin}'"}.join(",\n  ") %>
]

nodeList = [
<% @nodes.each do |node| %>
    [
    "name": "<%= node['name'] -%>",
    "host": "<%= node['host'] -%>",
    "label": "<%= node['label'] -%>",
    ],
<% end %>
]

ldap_server = '<%= @ldap_server %>'
ldap_rootDN = '<%= @ldap_rootDN %>'
ldap_userSearchBase = '<%= @ldap_userSearchBase %>'
ldap_userSearch = '<%= @ldap_userSearch %>'
ldap_groupSearchBase = '<%= @ldap_gropuSearchBase %>'
ldap_groupSearchFilter = ''

ldap_managerDN = '<%= @ldap_managerDN %>'
ldap_managerPassword = '<%= @ldap_managerPassword %>'

println("...Config options processed")
